<div class="panel panel-default">

    <div class="panel-body" id="top-dashboard">
        افزونه
    </div>

</div>

<div  class="row" id="zone">

  <!--<div class="col-md-12" id="plugin-holder">

      <div class="item-holder">

           <div
                          ng-repeat="item in list5"
                          data-drop="true" ng-model='list5'
                          jqyoui-droppable="{index: {{$index}}}"
                  >
                      <div class="item "
                           ng-class="{'item-notify' : item.type=='notify', 'item-filter':item.type=='filter'  }"
                              data-drag="{{item.drag}}"
                              data-jqyoui-options="{revert: 'invalid'}"
                              ng-model="list5"
                              jqyoui-draggable="{index: {{$index}},placeholder:'keep',deepCopy:true}"
                              ng-hide="!item.title">
                          {{item.title}}
                      </div>
                  </div>
          <div class="clearfix"></div>
      </div>


      <div class='content'>
          <div class="row-fluid">
              <ul class="thumbnails">

                  <li class="span3" style='margin-left:10px;'>
                      <div class="thumbnail" data-drop="true" ng-model='vm.list1' jqyoui-droppable="{multiple:true}">
                          <div class="caption">
                              <div class="item"
                                   ng-class="{'item-notify' : item.type=='notify', 'item-filter':item.type=='filter'  }"
                                   ng-repeat="item in vm.list1"
                                   ng-show="item.title"
                                   data-drag="true"
                                   data-jqyoui-options="{revert: 'invalid'}"
                                   ng-model="vm.list1"
                                   jqyoui-draggable="{index: {{$index}},animate:true}"
                                   uib-popover-template="'filterTemplate.html'"
                              >
                                  {{item.title}}

                                  <script ng-if="item.type=='notify'" type="text/ng-template" id="filterTemplate.html">
                                      <div>
                                          In Notify Template
                                      </div>
                                      <div class="form-group">
                                          <label></label>
                                          <input type="text" placeholder="عنوان هشدار" class="form-control">
                                      </div>
                                  </script>

                                  <script ng-if="item.type=='filter'" type="text/ng-template" id="filterTemplate.html">
                                      <div>
                                          In Filter Template
                                      </div>
                                      <div class="form-group">
                                          <label></label>
                                          <input type="text" placeholder="عنوان فیلتر" class="form-control">
                                      </div>
                                  </script>

                              </div>
                          </div>
                      </div>
                  </li>

              </ul>
          </div>
      </div>

      {{vm.list1 | json}}

  </div>-->
    <div class="col-md-12" id="plugin-holder">
        <!--<div class="item" ng-class="{'item-add':true}" ng-click="addState()" style="float: left">
            State
        </div>
        <div class="box" ng-hide="!vm.showState">
            <p>State: <input type="text" ng-model="state"></p>
            <p>Agent ID: <input type="text" ng-model="agent_id"></p>
            <p>type: <select ng-model="selectType" ng-options="x for x in names"></select></p>
        </div>
        <div class="box" ng-hide="!vm.showState" ng-if="selectType == 'filter'">
            <p>Conditions</p>
            <p>Type: <input type="text" ng-model="condition"> </p>
            <p>Device ID: <input type="text" ng-model="states"></p>
            <p>type: <select ng-model="action" ng-options="x for x in actions"></select></p>
        </div>
        <div class="box" ng-hide="!vm.showState" ng-if="selectType == 'notify'">
            <p>Actions</p>
            <p>Type: <input type="text" ng-model="condition"> </p>
            <p>Device ID: <input type="text" ng-model="states"></p>
            <p>type: <select ng-model="action" ng-options="x for x in actions"></select></p>
        </div>-->
        <div style="padding: 15px;">
            <p ng-click="addState()">New State +</p>
            <form name="sup-form" ng-submit="state['stat'] = 1;"
                  class="box state-box"  ng-repeat = "state in states">
                <p>State:
                    <input ng-hide="state['stat'] > 0" type="text" ng-model="state['name']"  required>
                    <span ng-hide="state['stat']== 0" >{{state['name']}}</span>
                </p>
                <p>
                    Agent ID:
                    <input ng-hide="state['stat'] > 0" type="text" ng-model="state['agent_id']" required>
                    <span ng-hide="state['stat'] == 0" >{{state['agent_id']}}</span>
                </p>
                <p>
                    type:
                    <select ng-hide="state['stat'] > 0" ng-model="state['type']" ng-options="x for x in stateTypes" required></select>
                    <span ng-hide="state['stat'] == 0" >{{state['type']}}</span>
                </p>

                <p ng-click="addCond(state)" ng-if="state['type'] == 'filter' && state['stat'] > 0">New Condition +</p>
                <div  class="box condition-box" ng-if="state['type'] == 'filter'"
                     ng-model="state['conditions']" ng-repeat="cond in state['conditions']">

                </div>

                <p ng-click="" ng-if="state_type == 'notif'">New Action +</p>

                <button type="submit" ng-hide="state['stat'] > 0">
                    Next
                </button>
                <button type="button"  ng-hide="state['stat'] == 0" ng-click="prevClick(state)">
                    Perv
                </button>

            </form>
        </div>
    </div>


</div>
